@page
@model ShopWeb.Pages.Admin.ProductManagerModel
@{
    Layout = "_AdminLayout";
}

<!-- Main -->
<div class="container">
    <div class="table-wrapper">
        <div class="table-title">
            <div class="d-flex justify-content-between align-items-center mb-3">
                <h2>Manage <b>Products</b></h2>
                <a href="/Admin/AddProduct" class="btn btn-primary">Add New Product</a>
            </div>


        </div>

        <table id="myTable1" class="table table-striped table-hover">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Category ID</th>
                    <th>Product Name</th>
                    <th>Product Image</th>
                    <th>Unit Price</th>
                    <th>Quantity Per Unit</th>
                    <th>Delete</th>
                </tr>
            </thead>
            <tbody id="table12">
              @*   @foreach (var product in Model.Products)
                {
                    <tr>
                        <td>@product.ProductId</td>
                        <td>@product.CategoryId</td>
                        <td>@product.ProductName</td>
                        <td>
                            <img width="150px" src="@product.ProductImage" alt="@product.ProductName">
                        </td>
                        <td>@product.UnitPrice.ToString("C")</td>
                        <td>@product.QuantityPerUnit</td>
                        <td>
                            <a href="javascript:void(0);" onclick="deleteProduct(@product.ProductId)" class="delete">
                                <span class="material-symbols-outlined" title="delete">delete</span>
                            </a>
                        </td>
                    </tr>
                } *@
            </tbody>
        </table>
        <div class="clearfix"></div>
    </div>
</div>

<script>
    function deleteProduct(productId) {
        if (confirm("Are you sure you want to delete this product?")) {
            window.location.href = `/Admin/ProductManager?handler=DeleteProduct&id=${productId}`;
        }
    }
</script>


<style>
    .table-title {
        margin-bottom: 20px;
    }

    .d-flex {
        display: flex;
    }

    .justify-content-between {
        justify-content: space-between;
    }

    .align-items-center {
        align-items: center;
    }

    .table img {
        max-width: 150px;
        height: auto;
    }

    .input-group {
        max-width: 500px;
        margin: auto;
    }

    .btn-primary {
        margin-left: 10px;
    }

    .btn-outline-secondary {
        border-color: #ddd;
    }

        .btn-outline-secondary:hover {
            background-color: #ddd;
        }
</style>
